# Claude Code Chat

**–õ—ë–≥–∫–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è [Claude Code](https://claude.ai/code)** ‚Äî —á–∞—Ç —Å Claude –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —Å –º—É–ª—å—Ç–∏-–∞–≥–µ–Ω—Ç–Ω–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–µ–π, MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏, skill —Ñ–∞–π–ª–∞–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π –≤ SQLite. –ë–µ–∑ —à–∞–≥–∞ —Å–±–æ—Ä–∫–∏.

> –Ø–∑—ã–∫–∏: [English](README.md) | [–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞](README_UA.md) | [–†—É—Å—Å–∫–∏–π](README_RU.md)

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| üñ• CLI Mode | –ß–µ—Ä–µ–∑ `claude` CLI —Å Max –ø–æ–¥–ø–∏—Å–∫–æ–π (–±–µ–∑ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ API) |
| üîå SDK Mode | –ß–µ—Ä–µ–∑ API –∫–ª—é—á Anthropic (–æ–ø–ª–∞—Ç–∞ –∑–∞ —Ç–æ–∫–µ–Ω—ã) |
| üí¨ –ß–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ | WebSocket —Å—Ç—Ä–∏–º–∏–Ω–≥ —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º markdown |
| üë• –ú—É–ª—å—Ç–∏-–ê–≥–µ–Ω—Ç | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã –∞–≥–µ–Ω—Ç–æ–≤ —Å –≥—Ä–∞—Ñ–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| ‚ö° MCP –°–µ—Ä–≤–µ—Ä—ã | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ª—é–±—ã—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ ‚Äî –ø—Ä–µ—Å–µ—Ç—ã + –∫–∞—Å—Ç–æ–º–Ω—ã–µ |
| üß† Skills | –ó–∞–≥—Ä—É–∑–∫–∞ `.md` skill —Ñ–∞–π–ª–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç Claude |
| üîÑ –†–µ–∂–∏–º—ã | Auto / Planning / Task —Ä–µ–∂–∏–º—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| üíé –ú–æ–¥–µ–ª–∏ | Opus 4.6 / Sonnet 4.6 / Haiku 4.5 |
| üìÅ –§–∞–π–ª–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä | –ü—Ä–æ—Å–º–æ—Ç—Ä workspace, –ø—Ä–µ–≤—å—é —Ñ–∞–π–ª–æ–≤, –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `@mention` |
| üñº Vision | –í—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ –∫–∞–∫ vision –±–ª–æ–∫–æ–≤ |
| üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –õ–∏–º–∏—Ç—ã Claude Max —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏ |
| üìã –ò—Å—Ç–æ—Ä–∏—è | –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –≤ SQLite —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è |
| ‚öôÔ∏è Config Editor | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `config.json`, `CLAUDE.md`, `.env` –ø—Ä—è–º–æ –≤ UI |
| üîí Auth | bcrypt –ø–∞—Ä–æ–ª—å + 30-–¥–Ω–µ–≤–Ω—ã–µ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã |
| üê≥ Docker | Dockerfile + docker-compose –≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ |

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+
- [`claude` CLI](https://docs.anthropic.com/en/claude-code) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (–¥–ª—è CLI —Ä–µ–∂–∏–º–∞)
- –ò–õ–ò `ANTHROPIC_API_KEY` (–¥–ª—è SDK —Ä–µ–∂–∏–º–∞)

### –ë–µ–∑ Docker (CLI —Ä–µ–∂–∏–º ‚Äî Max –ø–æ–¥–ø–∏—Å–∫–∞)

```bash
git clone https://github.com/Lexus2016/claude-code-chat.git
cd claude-code-chat
npm install

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ claude CLI –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
claude --version

node server.js
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å
```

### –ë–µ–∑ Docker (SDK —Ä–µ–∂–∏–º ‚Äî API –∫–ª—é—á)

```bash
git clone https://github.com/Lexus2016/claude-code-chat.git
cd claude-code-chat
npm install

cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env ‚Üí —É–∫–∞–∂–∏—Ç–µ ANTHROPIC_API_KEY=sk-ant-... (–Ω—É–∂–Ω–æ –¥–ª—è SDK —Ä–µ–∂–∏–º–∞)

node server.js
```

### –° Docker

```bash
git clone https://github.com/Lexus2016/claude-code-chat.git
cd claude-code-chat

cp .env.example .env
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

docker compose up -d --build
docker compose logs -f claude-chat
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
claude-code-chat/
‚îú‚îÄ‚îÄ server.js           # Express + WebSocket —Å–µ—Ä–≤–µ—Ä (–≥–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
‚îú‚îÄ‚îÄ auth.js             # bcrypt –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, 30-–¥–Ω–µ–≤–Ω—ã–µ —Ç–æ–∫–µ–Ω-—Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ claude-cli.js       # –ó–∞–ø—É—Å–∫ claude CLI –ø–æ–¥–ø—Ä–æ—Ü–µ—Å—Å–∞, –ø–∞—Ä—Å–∏–Ω–≥ JSON —Å—Ç—Ä–∏–º–∞
‚îú‚îÄ‚îÄ config.json         # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ + –∫–∞—Ç–∞–ª–æ–≥ skills
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example        # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.html      # –û–¥–Ω–æ—Ñ–∞–π–ª–æ–≤—ã–π SPA (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π CSS + JS)
‚îÇ   ‚îî‚îÄ‚îÄ auth.html       # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ / –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ skills/             # Skill .md —Ñ–∞–π–ª—ã (–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ trading-bot.md
‚îÇ   ‚îú‚îÄ‚îÄ pinescript.md
‚îÇ   ‚îî‚îÄ‚îÄ code-review.md
‚îú‚îÄ‚îÄ data/               # –î–∞–Ω–Ω—ã–µ —Ä–∞–Ω—Ç–∞–π–º–∞ (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ chats.db        # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ auth.json       # bcrypt —Ö–µ—à –ø–∞—Ä–æ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ sessions-auth.json
‚îî‚îÄ‚îÄ workspace/          # –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è Claude Code (–≤ .gitignore)
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`)

```env
PORT=3000
SESSION_SECRET=           # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –µ—Å–ª–∏ –ø—É—Å—Ç–æ
WORKDIR=./workspace       # –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è Claude
TRUST_PROXY=false         # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å true –∑–∞ nginx/Caddy
```

### CLI vs SDK

| | CLI (Max) | SDK (API –∫–ª—é—á) |
|---|---|---|
| –û–ø–ª–∞—Ç–∞ | Max –ø–æ–¥–ø–∏—Å–∫–∞ | –ó–∞ —Ç–æ–∫–µ–Ω—ã |
| –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π | `--resume <id>` | SDK session |
| –°—Ç—Ä–∏–º–∏–Ω–≥ | –ü–∞—Ä—Å–∏–Ω–≥ stdout JSON | –ù–∞—Ç–∏–≤–Ω—ã–π |
| –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–µ—Ä—Å–∏–∏ CLI | –°—Ç–∞–±–∏–ª—å–Ω—ã–π |
| –ú—É–ª—å—Ç–∏-–ê–≥–µ–Ω—Ç | ‚úÖ | ‚úÖ |

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
1. –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å ‚Üí ‚ö° MCP ‚Üí "+ –î–æ–±–∞–≤–∏—Ç—å MCP"
2. –ò–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `config.json` —á–µ—Ä–µ–∑ ‚öôÔ∏è Config Editor

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Skills
1. –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å ‚Üí üß† Skills ‚Üí "+ Upload .md"
2. –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å `.md` —Ñ–∞–π–ª—ã –≤ `skills/` –∏ –æ–±–Ω–æ–≤–∏—Ç—å `config.json`

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ö–ª–∏–µ–Ω—Ç (–±—Ä–∞—É–∑–µ—Ä) ‚îÄ‚îÄWS‚îÄ‚îÄ‚ñ∫ server.js ‚îÄ‚îÄ‚ñ∫ claude-cli.js ‚îÄ‚îÄ‚ñ∫ claude (–ø–æ–¥–ø—Ä–æ—Ü–µ—Å—Å)
                                    ‚îî‚îÄ‚îÄ‚ñ∫ SDK query()    ‚îÄ‚îÄ‚ñ∫ Anthropic API
                    HTTP ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
```

- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π Node.js –ø—Ä–æ—Ü–µ—Å—Å, –±–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–±–æ—Ä–∫–∏
- WebSocket –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞
- SQLite (WAL —Ä–µ–∂–∏–º) –¥–ª—è —Å–µ—Å—Å–∏–π –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ú—É–ª—å—Ç–∏-–∞–≥–µ–Ω—Ç: –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JSON –ø–ª–∞–Ω ‚Üí –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤

### SQLite —Å—Ö–µ–º–∞

```sql
sessions: id, title, created_at, updated_at, claude_session_id,
          active_mcp, active_skills, mode, agent_mode, model, engine

messages: id, session_id, role, type, content,
          tool_name, agent_id, created_at
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ bcrypt (12 rounds)
- Auth —Ç–æ–∫–µ–Ω—ã: 32-–±–∞–π—Ç–Ω—ã–π hex, 30-–¥–Ω–µ–≤–Ω—ã–π TTL, —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- WebSocket –∑–∞—â–∏—â—ë–Ω `httpOnly` cookie
- API –∫–ª—é—á–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- Helmet.js –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Rate limiting –Ω–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
npm run dev    # node --watch server.js (–∞–≤—Ç–æ-–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞)
npm start      # node server.js (–ø—Ä–æ–¥–∞–∫—à–Ω)
```

–ë–µ–∑ –ª–∏–Ω—Ç–µ—Ä–∞, –±–µ–∑ —Ç–µ—Å—Ç–æ–≤, –±–µ–∑ —à–∞–≥–∞ —Å–±–æ—Ä–∫–∏ ‚Äî vanilla JS —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, plain Node.js –±—ç–∫–µ–Ω–¥.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
