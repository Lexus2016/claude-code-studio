# Claude Code Chat

**–õ–µ–≥–∫–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è [Claude Code](https://claude.ai/code)** ‚Äî —á–∞—Ç –∑ Claude –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ, –∑ –º—É–ª—å—Ç–∏-–∞–≥–µ–Ω—Ç–Ω–æ—é –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—î—é, MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏, skill —Ñ–∞–π–ª–∞–º–∏ —Ç–∞ SQLite-–∏—Å—Ç–æ—Ä–∏–µ–π. –ë–µ–∑ –∫—Ä–æ–∫—É –∑–±—ñ—Ä–∫–∏.

> –ú–æ–≤–∏: [English](README.md) | [–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞](README_UA.md) | [–†—É—Å—Å–∫–∏–π](README_RU.md)

---

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

| –§—É–Ω–∫—Ü—ñ—è | –û–ø–∏—Å |
|---------|------|
| üñ• CLI Mode | –ß–µ—Ä–µ–∑ `claude` CLI –∑ Max –ø—ñ–¥–ø–∏—Å–∫–æ—é (–±–µ–∑ –≤–∏—Ç—Ä–∞—Ç –Ω–∞ API) |
| üîå SDK Mode | –ß–µ—Ä–µ–∑ API –∫–ª—é—á Anthropic (–æ–ø–ª–∞—Ç–∞ –∑–∞ —Ç–æ–∫–µ–Ω–∏) |
| üí¨ –ß–∞—Ç —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ | WebSocket —Å—Ç—Ä—ñ–º—ñ–Ω–≥ –∑ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º markdown |
| üë• –ú—É–ª—å—Ç–∏-–ê–≥–µ–Ω—Ç | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –∑ –≥—Ä–∞—Ñ–æ–º –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π |
| ‚ö° MCP –°–µ—Ä–≤–µ—Ä–∏ | –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤ ‚Äî –ø—Ä–µ—Å–µ—Ç–∏ + –∫–∞—Å—Ç–æ–º–Ω—ñ |
| üß† Skills | –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è `.md` skill —Ñ–∞–π–ª—ñ–≤ —É —Å–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç Claude |
| üîÑ –†–µ–∂–∏–º–∏ | Auto / Planning / Task —Ä–µ–∂–∏–º–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è |
| üíé –ú–æ–¥–µ–ª—ñ | Opus 4.6 / Sonnet 4.6 / Haiku 4.5 |
| üìÅ –§–∞–π–ª–æ–≤–∏–π –±—Ä–∞—É–∑–µ—Ä | –ü–µ—Ä–µ–≥–ª—è–¥ workspace, –ø—Ä–µ–≤'—é —Ñ–∞–π–ª—ñ–≤, –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `@mention` |
| üñº Vision | –í—Å—Ç–∞–≤–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º—ñ–Ω—É —è–∫ vision –±–ª–æ–∫—ñ–≤ |
| üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –õ—ñ–º—ñ—Ç–∏ Claude Max –∑ –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä–∞–º–∏ |
| üìã –Ü—Å—Ç–æ—Ä—ñ—è | –ü–æ—Å—Ç—ñ–π–Ω—ñ —Å–µ—Å—ñ—ó –≤ SQLite –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è |
| ‚öôÔ∏è Config Editor | –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è `config.json`, `CLAUDE.md`, `.env` –ø—Ä—è–º–æ –≤ UI |
| üîí Auth | bcrypt –ø–∞—Ä–æ–ª—å + 30-–¥–µ–Ω–Ω—ñ —Å–µ—Å—ñ–π–Ω—ñ —Ç–æ–∫–µ–Ω–∏ |
| üê≥ Docker | Dockerfile + docker-compose –≤ –∫–æ–º–ø–ª–µ–∫—Ç—ñ |

---

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏
- Node.js 18+
- [`claude` CLI](https://docs.anthropic.com/en/claude-code) –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π (–¥–ª—è CLI —Ä–µ–∂–∏–º—É)
- –ê–ë–û `ANTHROPIC_API_KEY` (–¥–ª—è SDK —Ä–µ–∂–∏–º—É)

### –ë–µ–∑ Docker (CLI —Ä–µ–∂–∏–º ‚Äî Max –ø—ñ–¥–ø–∏—Å–∫–∞)

```bash
git clone https://github.com/Lexus2016/claude-code-chat.git
cd claude-code-chat
npm install

# –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ claude CLI –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π
claude --version

node server.js
# –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:3000
# –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫: –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø–∞—Ä–æ–ª—å
```

### –ë–µ–∑ Docker (SDK —Ä–µ–∂–∏–º ‚Äî API –∫–ª—é—á)

```bash
git clone https://github.com/Lexus2016/claude-code-chat.git
cd claude-code-chat
npm install

cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env ‚Üí –≤–∫–∞–∂—ñ—Ç—å ANTHROPIC_API_KEY=sk-ant-...

node server.js
```

### –ó Docker

```bash
git clone https://github.com/Lexus2016/claude-code-chat.git
cd claude-code-chat

cp .env.example .env
# –ù–∞–ª–∞—à—Ç—É–π—Ç–µ .env –∑–∞ –ø–æ—Ç—Ä–µ–±–∏

docker compose up -d --build
docker compose logs -f claude-chat
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
claude-code-chat/
‚îú‚îÄ‚îÄ server.js           # Express + WebSocket —Å–µ—Ä–≤–µ—Ä (–≥–æ–ª–æ–≤–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É)
‚îú‚îÄ‚îÄ auth.js             # bcrypt –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è, 30-–¥–µ–Ω–Ω—ñ —Ç–æ–∫–µ–Ω-—Å–µ—Å—ñ—ó
‚îú‚îÄ‚îÄ claude-cli.js       # –ó–∞–ø—É—Å–∫ claude CLI –ø—ñ–¥–ø—Ä–æ—Ü–µ—Å—É, –ø–∞—Ä—Å–∏–Ω–≥ JSON —Å—Ç—Ä—ñ–º—É
‚îú‚îÄ‚îÄ config.json         # –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤ + –∫–∞—Ç–∞–ª–æ–≥ skills
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example        # –®–∞–±–ª–æ–Ω –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.html      # –û–¥–Ω–æ—Ñ–∞–π–ª–æ–≤–∏–π SPA (–≤–±—É–¥–æ–≤–∞–Ω–∏–π CSS + JS)
‚îÇ   ‚îî‚îÄ‚îÄ auth.html       # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ª–æ–≥—ñ–Ω–∞ / –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ skills/             # Skill .md —Ñ–∞–π–ª–∏ (–∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ trading-bot.md
‚îÇ   ‚îú‚îÄ‚îÄ pinescript.md
‚îÇ   ‚îî‚îÄ‚îÄ code-review.md
‚îú‚îÄ‚îÄ data/               # –î–∞–Ω—ñ —Ä–∞–Ω—Ç–∞–π–º—É (–≤ .gitignore)
‚îÇ   ‚îú‚îÄ‚îÄ chats.db        # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
‚îÇ   ‚îú‚îÄ‚îÄ auth.json       # bcrypt —Ö–µ—à –ø–∞—Ä–æ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ sessions-auth.json
‚îî‚îÄ‚îÄ workspace/          # –†–æ–±–æ—á–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è Claude Code (–≤ .gitignore)
```

---

## –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (`.env`)

```env
PORT=3000
ANTHROPIC_API_KEY=        # –ü–æ—Ç—Ä—ñ–±–Ω–æ –ª–∏—à–µ –¥–ª—è SDK —Ä–µ–∂–∏–º—É
SESSION_SECRET=           # –ì–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —è–∫—â–æ –ø–æ—Ä–æ–∂–Ω—î
WORKDIR=./workspace       # –†–æ–±–æ—á–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è Claude
TRUST_PROXY=false         # –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ true –∑–∞ nginx/Caddy
```

### CLI vs SDK

| | CLI (Max) | SDK (API –∫–ª—é—á) |
|---|---|---|
| –û–ø–ª–∞—Ç–∞ | Max –ø—ñ–¥–ø–∏—Å–∫–∞ | –ó–∞ —Ç–æ–∫–µ–Ω–∏ |
| –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Å—ñ–π | `--resume <id>` | SDK session |
| –°—Ç—Ä—ñ–º—ñ–Ω–≥ | –ü–∞—Ä—Å–∏–Ω–≥ stdout JSON | –ù–∞—Ç–∏–≤–Ω–∏–π |
| –°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å | –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤–µ—Ä—Å—ñ—ó CLI | –°—Ç–∞–±—ñ–ª—å–Ω–∏–π |
| –ú—É–ª—å—Ç–∏-–ê–≥–µ–Ω—Ç | ‚úÖ | ‚úÖ |

### –î–æ–¥–∞–≤–∞–Ω–Ω—è MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤
1. –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å ‚Üí ‚ö° MCP ‚Üí "+ –î–æ–¥–∞—Ç–∏ MCP"
2. –ê–±–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ `config.json` —á–µ—Ä–µ–∑ ‚öôÔ∏è Config Editor

### –î–æ–¥–∞–≤–∞–Ω–Ω—è Skills
1. –õ—ñ–≤–∞ –ø–∞–Ω–µ–ª—å ‚Üí üß† Skills ‚Üí "+ Upload .md"
2. –ê–±–æ –¥–æ–¥–∞—Ç–∏ `.md` —Ñ–∞–π–ª–∏ –≤ `skills/` —Ç–∞ –æ–Ω–æ–≤–∏—Ç–∏ `config.json`

---

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
–ö–ª—ñ—î–Ω—Ç (–±—Ä–∞—É–∑–µ—Ä) ‚îÄ‚îÄWS‚îÄ‚îÄ‚ñ∫ server.js ‚îÄ‚îÄ‚ñ∫ claude-cli.js ‚îÄ‚îÄ‚ñ∫ claude (–ø—ñ–¥–ø—Ä–æ—Ü–µ—Å)
                                    ‚îî‚îÄ‚îÄ‚ñ∫ SDK query()    ‚îÄ‚îÄ‚ñ∫ Anthropic API
                    HTTP ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
```

- –Ñ–¥–∏–Ω–∏–π Node.js –ø—Ä–æ—Ü–µ—Å, –±–µ–∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∑–±—ñ—Ä–∫–∏
- WebSocket –¥–ª—è –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—å–æ–≥–æ —Å—Ç—Ä—ñ–º—ñ–Ω–≥—É
- SQLite (WAL —Ä–µ–∂–∏–º) –¥–ª—è —Å–µ—Å—ñ–π —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- –ú—É–ª—å—Ç–∏-–∞–≥–µ–Ω—Ç: –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≥–µ–Ω–µ—Ä—É—î JSON –ø–ª–∞–Ω ‚Üí –ø–∞—Ä–∞–ª–µ–ª—å–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∞–≥–µ–Ω—Ç—ñ–≤

### SQLite —Å—Ö–µ–º–∞

```sql
sessions: id, title, created_at, updated_at, claude_session_id,
          active_mcp, active_skills, mode, agent_mode, model, engine

messages: id, session_id, role, type, content,
          tool_name, agent_id, created_at
```

---

## –ë–µ–∑–ø–µ–∫–∞

- –ü–∞—Ä–æ–ª—ñ —Ö–µ—à—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ bcrypt (12 rounds)
- Auth —Ç–æ–∫–µ–Ω–∏: 32-–±–∞–π—Ç–Ω–∏–π hex, 30-–¥–µ–Ω–Ω–∏–π TTL, —Å–µ—Ä–≤–µ—Ä–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
- WebSocket –∑–∞—Ö–∏—â–µ–Ω–∏–π `httpOnly` cookie
- API –∫–ª—é—á—ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- Helmet.js –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–ø–µ–∫–∏
- Rate limiting –Ω–∞ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó

---

## –†–æ–∑—Ä–æ–±–∫–∞

```bash
npm run dev    # node --watch server.js (–∞–≤—Ç–æ-–ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è)
npm start      # node server.js (–ø—Ä–æ–¥–∞–∫—à–Ω)
```

–ë–µ–∑ –ª—ñ–Ω—Ç–µ—Ä–∞, –±–µ–∑ —Ç–µ—Å—Ç—ñ–≤, –±–µ–∑ –∫—Ä–æ–∫—É –∑–±—ñ—Ä–∫–∏ ‚Äî vanilla JS —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, plain Node.js –±–µ–∫–µ–Ω–¥.

---

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
